<md-content layout="row" flex>
    <div class="menu">
      <md-button ng-click="toggleLeft()"
                 class="md-primary" hide-gt-md>
        <md-icon>menu</md-icon>
      </md-button>
    </div>
    <md-sidenav
        layout="column" class="md-sidenav-left md-whiteframe-z2"
        md-component-id="left"
        md-is-locked-open="$mdMedia('gt-md')"
        md-disable-backdrop
        md-whiteframe="4">
        <md-tabs md-selected="selectedIndex" md-theme="light-blue" md-dynamic-height md-border-bottom>
          <md-tab label="tv stanice">
            <md-content layout-padding>
              <div layout="column">
                <md-list>
                  <md-list-item><md-button ng-class="{'md-raised md-primary' : ctrl.channel === 'ta' }" flex ng-click="ctrl.ta3Live()">TA3</md-button> </md-list-item>
                  <md-list-item><md-button ng-class="{'md-raised md-primary' : ctrl.channel === 'joj' }" flex ng-click="ctrl.jojLive()">JOJ</md-button> </md-list-item>
                  <md-list-item><md-button ng-class="{'md-raised md-primary' : ctrl.channel === 'joj+' }" flex ng-click="ctrl.playJojPlusLive()">JOJ+</md-button> </md-list-item>
                  <md-list-item><md-button ng-class="{'md-raised md-primary' : ctrl.channel === 'wau' }" flex ng-click="ctrl.playWauLive()">WAU</md-button> </md-list-item>
                  <md-list-item ng-repeat="playlistItem in ctrl.playlist.vgx">
                    <md-button ng-class="{'md-raised md-primary' : ctrl.channel === playlistItem.u }" flex ng-click="ctrl.playVgx(playlistItem.n)">{{ctrl.base64decode(playlistItem.n)}}</md-button>
                  </md-list-item>
                </md-list>
              </div>
            </md-content>
          </md-tab>

          <md-tab label="joj archív">
            <md-content layout-padding>
              <div layout="column">
                <md-list ng-show="!showEpizodes">
                  <md-list-item ng-repeat="item in archive['joj']">
                    <md-button ng-class="{'md-raised md-primary' : ctrl.epizode.title === item.title }" flex ng-click="fetchJojEpizodes(item)">{{item.title}}</md-button>
                  </md-list-item>
                </md-list>

                <md-button ng-click="showEpizodes = 0" ng-show="showEpizodes" aria-label="Späť">
                  <md-icon> arrow_back </md-icon>
                </md-button>
                <md-list ng-show="showEpizodes">
                  <md-list-item ng-repeat="epizode in archive['joj'].epizodes">
                    <md-button ng-class="{'md-raised md-primary' : ctrl.epizode.title === epizode.title }" flex ng-click="ctrl.playJojArchiveItem(epizode)">{{epizode.title}}</md-button>
                  </md-list-item>
                </md-list>
                <md-progress-linear ng-show="jojService.fetchingEpizodes" md-mode="indeterminate"></md-progress-linear>
              </div>
            </md-content>
          </md-tab>

          <md-tab label="markíza archív">
            <md-content layout-padding>
              <div layout="column">
                <md-list ng-show="!showEpizodes">
                  <md-list-item ng-repeat="item in archive['markiza']">
                    <md-button ng-class="{'md-raised md-primary' : ctrl.epizode.title === item.title }" flex ng-click="fetchMarkizaEpizodes(item)">{{item.title}}</md-button>
                  </md-list-item>
                </md-list>

                <md-button ng-click="showEpizodes = 0" ng-show="showEpizodes" aria-label="Späť">
                  <md-icon> arrow_back </md-icon>
                </md-button>
                <md-list ng-show="showEpizodes">
                  <md-list-item ng-repeat="epizode in archive['markiza'].epizodes">
                    <md-button ng-class="{'md-raised md-primary' : ctrl.epizode.title === epizode.title }" flex ng-click="ctrl.playMarkizaArchiveItem(epizode)">{{epizode.title}}</md-button>
                  </md-list-item>
                </md-list>
                <md-progress-linear ng-show="markizaService.fetchingEpizodes" md-mode="indeterminate"></md-progress-linear>
              </div>
            </md-content>
          </md-tab>
        </md-tabs>

    </md-sidenav>
  </div>

  <md-content layout="column" flex class="md-padding">
    <div class="vlc-help" ng-show="ctrl.vlcMissing">
      <h1>Na prehratie videa je potrebný prehávač VLC</h1>
      <p>
        1. Stiahnite si najnovšiu verziu VLC Playera <br />
        <a class="download" href="http://www.videolan.org/vlc/" target="_blank">
          <img src="/images/vlc-navod-1.jpg">
        </a>
        <br />
        2. Otvorte stiahnutý súbor a začnite inštaláciu VLC Playera. <br /><br />
        3. V okne inštalácie “Voľba súčastí programu” je potrebné, aby boli zaškrtnuté všetky možnosti ... <br />
        <img src="/images/vlc-navod-4.png"> <br /><br />

        4. Po nainštalovaní môžete je treba znovu načítať stránku alebo zatvoriť a otvoriť prehliadač.
      </p>
    </div>

      <div ng-show="!ctrl.vlcMissing" class="player-screen">
        <div id="vxgPlayerWrapper" class="vxgPlayerWrapper vxgHidden">
          <div ng-show="ctrl.isChrome()" class="vxgplayer"
               id="vxg_media_player"
               width="640"
               height="360"
               url="{{ctrl.vxgPlayerUrl}}"
               nmf-src="bower_components/vxgplayer/pnacl/Release/media_player.nmf"
               nmf-path="media_player.nmf"
               latency="100000"
               autohide="2"
               volume="0.7"
               avsync
               controls
               mute
               aspect-ratio
               aspect-ratio-mode="1"
               auto-reconnect>
          </div>
          <embed width="640" height="360" ng-show="!ctrl.isChrome()" type="application/x-vlc-plugin"
                 pluginspage="http://www.videolan.org" version="VideoLAN.VLCPlugin.2"
                 id="vlc" loop="yes" autoplay="yes" target="{{ctrl.vxgPlayerUrl}}"></embed>
        </div>

        <iframe id="ta3frame" ng-show="ctrl.playing === 'ta3'" ng-src="{{ctrl.ta3LiveStreamUrl}}" frameborder="0" scrolling="no"></iframe>
        <div ng-show="ctrl.playing === 'jojLive'" id="jojLiveStream"></div>
        <div ng-show="ctrl.playing === 'ctLiveStream'" id="ctLiveStream"></div>

        <md-content layout-padding flex>
          <div ng-show="isMobile && ctrl.channel === '' && !jojService.fetchingStreams && !jojService.fetchingEpizodes">
            <h1>TV kanály</h1>
            <p>Pre pozeranie televíznych kanálov je potrebné mať nainštalovanú aplikáciu <a href="https://play.google.com/store/apps/details?id=org.videolan.vlc&hl=sk" target="_blank">VLC pre android</a></p>

            <h1>JOJ Archív</h1>
            <p>
              1. Kliknite na menu v ľavom hornom rohu a zvoľte reláciu z archívu<br /><br />

              2. Zvoľte želanú epizódu zo zoznamu<br /><br />

              3. Po načítaní videa kliknite tlačítko prehrávať
            </p>
          </div>
        </md-content>

        <md-progress-circular ng-show="jojService.fetchingStreams" class="progress-player" md-mode="indeterminate"></md-progress-circular>
        <video ng-show="ctrl.playing === 'jojArchive' && !jojService.fetchingStreams && !jojService.fetchingEpizodes" ng-src="{{ctrl.videoFromArchiveUrl}}" controls></video>

      </div>

      <md-button ng-click="ctrl.showHelpDialog()" id="mb_button--help" aria-label="Napoveda" class="md-fab" >
        <md-icon> help </md-icon>
      </md-button>
    </md-content>
</md-content>

